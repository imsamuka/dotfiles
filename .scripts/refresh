#!/usr/bin/env sh

_refresh(){
  sh -c "${*#$1}; echo '[refresh] Refreshed $1'" & disown
}

_refresh "Fonts" fc-cache
_refresh "Tint2" tint2ctl refresh
_refresh "Openbox" openbox --reconfigure
_refresh "Xresources" xrdb ~/.Xresources

_refresh "Compositor" 'toggle_compositor refresh &> /dev/null'
_refresh "xsettingsd" '(killall -HUP xsettingsd || xsettingsd &) &> /dev/null'

sleep 3

[[ -z $1 ]] && \
  notify-send -u low -t 700 -i $(icon_path preferences-color) \
   "Refreshed" &> /dev/null

exit 0
